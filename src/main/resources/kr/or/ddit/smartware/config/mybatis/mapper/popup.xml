<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="popup">
	<select id="getPagePopupList" parameterType="map" resultType="popup">
		select a.*
		  from (select rownum rn, a.*
		          from (select a.*
		                  from popup a
		                 order by pop_id) a) a
		 where rn between #{pagesize}*(#{page} - 1) + 1 and #{pagesize}*#{page}
	</select>
	
	<select id="getAllPopupList" resultType="popup">
		select * from popup order by pop_id
	</select>
	
	<insert id="insertPopup" parameterType="popup">
		insert into popup(pop_id, pop_st_dt, pop_end_dt, pop_left, pop_top, pop_bot, pop_right, pop_title, pop_cont, reg_dt, emp_id)
			values('pop' || lpad(popup_seq.nextval, 4, 0), #{pop_st_dt}, #{pop_end_dt}, #{pop_left}, #{pop_top}, #{pop_bot}, #{pop_right}, #{pop_title}, #{pop_cont}, sysdate, #{emp_id})
	</insert>
	
	<delete id="deletePopup" parameterType="String">
		delete from popup where pop_id = #{pop_id}
	</delete>
	
	<select id="getPopup" parameterType="String" resultType="popup">
		select * from popup where pop_id = #{pop_id}
	</select>
	
	<update id="updatePopup" parameterType="popup">
		update popup set pop_st_dt=#{pop_st_dt}, pop_end_dt=#{pop_end_dt}, pop_top=#{pop_top}, pop_left=#{pop_left}, pop_title=#{pop_title}, pop_cont=#{pop_cont}, emp_id=#{emp_id} where pop_id=#{pop_id}
	</update>
</mapper>